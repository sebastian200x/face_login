<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
    {% include 'navbar.html' %}
</head>

<body>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% for category, message in messages %}
    {% if category == 'info' %}
    <script>
        alert("{{ message }}");
    </script>
    {% endif %}
    {% endfor %}
    {% endwith %}


    {% if messager == 'success' %}
    <script>
        alert('Registration Successful, please wait for admin to approve your account');
    </script>
    {% endif %}
    {% if messager == 4 %}
    <script>
        alert('Account is not yet verified, please wait to be verified or contact an administrator if you think this is a mistake');
    </script>
    {% endif %}
    {% if messager == 5 %}
    <script>
        alert('Account was deleted, please contact an administrator if you think this is a mistake');
    </script>
    {% endif %}

    {% if messager == 6 %}
    <script>
        alert('Login attempt exceeded, please try again later');
    </script>
    {% endif %}

    <div class="left"><img draggable="false" class="image" src="{{ url_for('static', filename='images/logo-b.png') }}"
            alt="logo">
    </div>
    <div class="right">
        <div class="centered">
            <form action="/login" method="POST" autocomplete="off">
                <div class="imgcontainer">
                    <img draggable="false" src="{{ url_for('static', filename='images/logo-s.png') }}" alt="Avatar"
                        class="avatar">
                    <h1 style="color: #545454;">LOGIN</h1>
                </div>
                <br><br>
                <label for="uname">Username:</label>
                {% if messager == 1 %}
                <input type="text" name="username" id="uname" class="wrong" pattern="^\S{3,}$"
                    title="Username must have 3 characters and cannot have spaces" placeholder="Enter Username" required
                    autocomplete="false" autofocus>
                <center>
                    <header class="inv"
                        style="color:white;box-shadow: 5px 7px 15px black;border: 2px solid red;border-radius: 50px;background-color: red;width:200px">
                        &#9997 Please enter your username
                    </header>
                </center>
                {% elif messager == 3 %}
                <input type="text" name="username" id="uname" class="wrong" pattern="^\S{3,}$"
                    title="Username must have 3 characters and cannot have spaces" placeholder="Enter Username" required
                    autocomplete="false" autofocus>
                <center>
                    <header
                        style="color:white;box-shadow: 5px 7px 15px black;border: 2px solid red;border-radius: 50px;background-color: red;width:300px ">
                        &#10060 Invalid Username or Password
                    </header>
                </center>
                {% else %}
                <input type="text" name="username" id="uname" pattern="^\S{3,}$"
                    title="Username must have 3 characters and cannot have spaces" placeholder="Enter Username" required
                    autocomplete="false" autofocus>
                <br><br>
                {% endif %}

                <label for="psw">Password:</label>

                {% if messager == 2 %}
                <input type="password" name="password" id="psw" class="wrong" pattern="^\S{3,}$"
                    title="Password must have 3 characters and cannot have spaces" placeholder="Enter Password" required
                    autocomplete="false">
                <center>
                    <header
                        style="color:white;box-shadow: 5px 7px 15px black;border: 2px solid red;border-radius: 50px;background-color: red;width:200px">
                        &#9997 Please enter your password
                    </header>
                </center>
                {% elif messager == 3 %}
                <input type="password" name="password" id="psw" class="wrong" pattern="^\S{3,}$"
                    title="Password must have 3 characters and cannot have spaces" placeholder="Enter Password" required
                    autocomplete="false">

                {% else %}
                <input type="password" name="password" id="psw" pattern="^\S{3,}$"
                    title="Password must have 3 characters and cannot have spaces" placeholder="Enter Password" required
                    autocomplete="false">
                {% endif %}
                <input class="button" type="submit" value="Login" name="login">
                <a href="/facelogin" class="face-password-link">Face Login</a>
                <a href="/register" class="face-password-link">Register</a>
            </form>

        </div>
    </div>
</body>

</html>